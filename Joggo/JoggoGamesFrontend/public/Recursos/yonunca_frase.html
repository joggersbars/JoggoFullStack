<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="icon" type="image/png" href="src\iconos\favicon.ico">
  <title>Yo Nunca - Juego</title>

  <link rel="stylesheet" href="src/estilos/yonunca_frase.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
</head>
<body>
  <div class="logo-container">
    <img src="src\iconos\Letters_YoNunca.png" alt="Logo" class="logo">
  </div>

  <div class="phrase">
    <p>Introduzca tu frase de YO NUNCA en tu móvil</p>
  </div>

  <div id="lottie-container"></div>
  <div id="lottie-container-timer"></div>


  <script>
    function getIdPartidaFromURL() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get("id_partida"); // Obtenemos el valor de id_partida que viene como parametro desde la URL
    }
    const id_actual_partida = getIdPartidaFromURL();
    // Animación Lottie
    var animation = lottie.loadAnimation({
      container: document.getElementById('lottie-container'), // Contenedor donde se cargará la animación
      renderer: 'svg', // Renderización en formato SVG
      loop: false, // Repetir la animación
      autoplay: true, // Reproducir automáticamente
      path: 'src/lotties/Loading_bar1.json' // Ruta de la animación en formato JSON
    });

    animation.setSpeed(0.033);

        // Animación Lottie
      var animation_timer = lottie.loadAnimation({
      container: document.getElementById('lottie-container-timer'), // Contenedor donde se cargará la animación
      renderer: 'svg', // Renderización en formato SVG
      loop: false, // Repetir la animación
      autoplay: true, // Reproducir automáticamente
      path: 'src/lotties/Timer.json' // Ruta de la animación en formato JSON
    });

    // Detectar el final de la animación del temporizador
    animation_timer.addEventListener('complete', function() {
      console.log("El temporizador ha terminado");
      // Aquí puedes agregar el código que quieras ejecutar al terminar la animación
      // Por ejemplo, redirigir a otra página o mostrar un mensaje.
      window.location.href = "/siguiente_pantalla.html"; // Redirigir a otra página
    });
    // if (idPartida) {
    //     await empezarPartida();
    //     localStorage.setItem("ComienzaPartida", "true"); //Guardar señal de inicio en localStorage
    //     localStorage.setItem("idPartida", idPartida);
    // } else {
    //     console.error("No se ha obtenido un ID de partida válido.");
    // }
  </script>  
  <script src="pruebas/frase_jugador.js"></script>
</body>
</ht
